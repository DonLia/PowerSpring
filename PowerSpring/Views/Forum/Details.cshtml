@model ForumViewModel

@{
    ViewData["title"] = "details";
}




<h2>@Model.post.Title</h2>

<div class="thumbnail">
    @if (!(Model.post.ImageUrl == null))
    {
        <img alt="@Model.post.Title" src="@Model.post.ImageUrl">
    }
    <h4>@Model.post.Content</h4>
</div>




<div class="blockdisplay">
    @if (!Model.post.IsBlocked)
    {
        <div>
            <a asp-controller="forum" asp-action="newreply" asp-route-id="@Model.post.Id"><input type="button" class="btn btn-primary" value="reply"></a>
        </div>
    }
</div>

@if (@Model.Replies.Any())
{<table style="width:100%">
        <tr>
            <th style="width:60%">Replies</th>
            <th>Respondent name</th>
            <th>Reply Time</th>
            @if (User.IsInRole("Admin"))
            {
                <th>DELETE REPLY</th>
            }
        </tr>

        @foreach (var reply in Model.Replies)
        {
            @if (!reply.IsDeleted)
            {


                <tr>
                    <td>@reply.Content</td>
                    <td>@reply.UserName</td>
                    <td>@reply.Time</td>
                    @if (User.IsInRole("Admin"))
                    {
                        <td>
                            <a asp-controller="forum" asp-action="forumactions" asp-route-id="@reply.Id" asp-route-act="deletereply"> DELETE</a>
                        </td>
                    }
                </tr>


            }

        }

    </table>
}
else
{
    <div>
        <h4>no replies in this post </h4>
    </div>
}




